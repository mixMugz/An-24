defineProperty("soundCap", globalPropertyi("an-24rv/soundCap"))
defineProperty("isalerton", globalPropertyi("an-24rv/isalerton"))
defineProperty("beacon_up", globalPropertyi("an-24rv/beacon_up"))
defineProperty("beacon_down", globalPropertyi("an-24rv/beacon_down"))
defineProperty("test_lamp_pilot", globalPropertyi("an-24rv/test_lamp_pilot"))
defineProperty("test_lamp_pilot1_switch", globalPropertyi("an-24rv/test_lamp_pilot1_switch"))
defineProperty("test_lamp_pilot2_switch", globalPropertyi("an-24rv/test_lamp_pilot2_switch"))
defineProperty("testmsrp", globalPropertyi("an-24rv/testmsrp"))
defineProperty("testmsrp_sound_switch", globalPropertyi("an-24rv/testmsrp_sound_switch"))
defineProperty("testmsrp_cap", globalPropertyi("an-24rv/testmsrp_cap"))
defineProperty("testmsrp_sound_switch_cap", globalPropertyi("an-24rv/testmsrp_sound_switch_cap"))
defineProperty("msrp_switch", globalPropertyi("an-24rv/msrp_switch"))
defineProperty("msrp_sound_switch", globalPropertyi("an-24rv/msrp_sound_switch"))
defineProperty("msrp_switch_cap", globalPropertyi("an-24rv/msrp_switch_cap"))
defineProperty("msrp_sound_switch_cap", globalPropertyi("an-24rv/msrp_sound_switch_cap"))
defineProperty("msrplight", globalPropertyi("an-24rv/msrplight"))
defineProperty("green_led", loadImage("leds.dds", 20, 0, 20, 20))
defineProperty("bus_DC_27_volt", globalPropertyf("an-24rv/power/bus_DC_27_volt"))
defineProperty("flight_time", globalPropertyf("sim/time/total_running_time_sec"))
defineProperty("autopilot_state_PF", globalPropertyf("an-24rv/autopilot_state_PF"))
defineProperty("autopilot_state_FO", globalPropertyf("an-24rv/autopilot_state_FO"))
defineProperty("autopilot_state_PF_button", globalPropertyi("an-24rv/autopilot_state_PF_button"))
defineProperty("autopilot_state_FO_button", globalPropertyi("an-24rv/autopilot_state_FO_button"))
defineProperty("PF_ApbuttonState", globalPropertyf("an-24rv/autopilot_state_PF_ApbuttonState"))
defineProperty("FO_ApbuttonState", globalPropertyf("an-24rv/autopilot_state_FO_ApbuttonState"))
defineProperty("ap_on_lit", globalPropertyi("an-24rv/ap/ap_on_lit"))
defineProperty("nosmokingswitch", globalPropertyi("an-24rv/nosmokingswitch"))
defineProperty("nosmokingswitchonoff", globalPropertyi("an-24rv/nosmokingswitchonoff"))
defineProperty("flightdeckdoor_toggle", globalPropertyf("an-24rv/flightdeckdoor_toggle"))
defineProperty("flightdeckdoor", globalPropertyf("an-24rv/flightdeckdoor"))
defineProperty("flightdeckdoor_state", globalPropertyf("an-24rv/flightdeckdoor_state"))
defineProperty("elev_fail_led", loadImage("lamps.dds", 150, 30, 50, 30))
defineProperty("ail_fail_led", loadImage("lamps.dds", 200, 30, 50, 30))
defineProperty("pos_not_work_img", loadImage("lamps.dds", 50, 60, 50, 30))
defineProperty("ice_on_plane_img", loadImage("lamps.dds", 100, 60, 50, 30))
defineProperty("elev_force_led", loadImage("lamps.dds", 0, 60, 50, 30))
defineProperty("left_ahz_fail_txt", loadImage("lamps.dds", 0, 0, 50, 30))
defineProperty("right_ahz_fail_txt", loadImage("lamps.dds", 100, 0, 50, 30))
defineProperty("third_ahz_fail_txt", loadImage("lamps.dds", 50, 0, 50, 30))
defineProperty("roll_left_txt", loadImage("lamps.dds", 150, 0, 50, 30))
defineProperty("roll_right_txt", loadImage("lamps.dds", 200, 0, 50, 30))
defineProperty("check_ahz_txt", loadImage("lamps.dds", 0, 30, 50, 30))
defineProperty("critical_mode", loadImage("lamps.dds", 50, 30, 50, 30))
defineProperty("warning_img", loadImage("lamps.dds", 100, 30, 50, 30))
defineProperty("luk", globalPropertyf("an-24rv/lukbesson"))
defineProperty("lukbesson_switch", globalPropertyf("an-24rv/lukbesson_switch"))

defineProperty("main_light_white", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[6]"))
defineProperty("main_light_red", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[7]"))
defineProperty("overhead_light_pilot_left_red", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[8]"))
defineProperty("overhead_light_pilot_left_white", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[9]"))
defineProperty("overhead_light_left_red", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[10]"))
defineProperty("overhead_light_left_white", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[11]"))
defineProperty("overhead_light_right_red", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[12]"))
defineProperty("overhead_light_right_white", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[13]"))
defineProperty("overhead_light_pilot_right_red", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[14]"))
defineProperty("overhead_light_pilot_right_white", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[15]"))
defineProperty("overhead_light_nav_left_red", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[16]"))
defineProperty("overhead_light_nav_left_white", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[17]"))
defineProperty("overhead_light_nav_right_red", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[18]"))
defineProperty("overhead_light_nav_right_white", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[19]"))
defineProperty("overhead_light_rad_red", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[20]"))
defineProperty("overhead_light_rad_white", globalPropertyf("sim/cockpit2/switches/instrument_brightness_ratio[21]"))

defineProperty("overhead_light_left_ownDR", globalPropertyf("an-24rv/lights/overhead_lamp_left_bright"))
defineProperty("overhead_light_left_mode", globalPropertyf("an-24rv/lights/overhead_lamp_left_mode"))
defineProperty("overhead_light_right_ownDR", globalPropertyf("an-24rv/lights/overhead_lamp_right_bright"))
defineProperty("overhead_light_right_mode", globalPropertyf("an-24rv/lights/overhead_lamp_right_mode"))
defineProperty("overhead_light_pilot_right_ownDR", globalPropertyf("an-24rv/lights/overhead_lamp_pilot_right_bright"))
defineProperty("overhead_light_pilot_right_mode", globalPropertyf("an-24rv/lights/overhead_lamp_pilot_right_mode"))
defineProperty("overhead_light_pilot_left_ownDR", globalPropertyf("an-24rv/lights/overhead_lamp_pilot_left_bright"))
defineProperty("overhead_light_pilot_left_mode", globalPropertyf("an-24rv/lights/overhead_lamp_pilot_left_mode"))
defineProperty("overhead_light_nav_left_ownDR", globalPropertyf("an-24rv/lights/overhead_lamp_nav_left_bright"))
defineProperty("overhead_light_nav_left_mode", globalPropertyf("an-24rv/lights/overhead_lamp_nav_left_mode"))
defineProperty("overhead_light_nav_right_ownDR", globalPropertyf("an-24rv/lights/overhead_lamp_nav_right_bright"))
defineProperty("overhead_light_nav_right_mode", globalPropertyf("an-24rv/lights/overhead_lamp_nav_right_mode"))
defineProperty("overhead_light_rad_ownDR", globalPropertyf("an-24rv/lights/overhead_lamp_rad_bright"))
defineProperty("overhead_light_rad_mode", globalPropertyf("an-24rv/lights/overhead_lamp_rad_mode"))

defineProperty("overhead_lamp_left_rot_updown", globalPropertyf("an-24rv/lights/overhead_lamp_left_rot_updown"))
defineProperty("overhead_lamp_left_rot_around", globalPropertyf("an-24rv/lights/overhead_lamp_left_rot_around"))
defineProperty("overhead_lamp_right_rot_updown", globalPropertyf("an-24rv/lights/overhead_lamp_right_rot_updown"))
defineProperty("overhead_lamp_right_rot_around", globalPropertyf("an-24rv/lights/overhead_lamp_right_rot_around"))
defineProperty("overhead_lamp_pilot_right_rot_updown", globalPropertyf("an-24rv/lights/overhead_lamp_pilot_right_rot_updown"))
defineProperty("overhead_lamp_pilot_right_rot_around", globalPropertyf("an-24rv/lights/overhead_lamp_pilot_right_rot_around"))
defineProperty("overhead_lamp_pilot_left_rot_updown", globalPropertyf("an-24rv/lights/overhead_lamp_pilot_left_rot_updown"))
defineProperty("overhead_lamp_pilot_left_rot_around", globalPropertyf("an-24rv/lights/overhead_lamp_pilot_left_rot_around"))
defineProperty("overhead_lamp_nav_left_rot_updown", globalPropertyf("an-24rv/lights/overhead_lamp_nav_left_rot_updown"))
defineProperty("overhead_lamp_nav_left_rot_around", globalPropertyf("an-24rv/lights/overhead_lamp_nav_left_rot_around"))
defineProperty("overhead_lamp_nav_right_rot_updown", globalPropertyf("an-24rv/lights/overhead_lamp_nav_right_rot_updown"))
defineProperty("overhead_lamp_nav_right_rot_around", globalPropertyf("an-24rv/lights/overhead_lamp_nav_right_rot_around"))
defineProperty("overhead_lamp_rad_rot_updown", globalPropertyf("an-24rv/lights/overhead_lamp_rad_rot_updown"))
defineProperty("overhead_lamp_rad_rot_around", globalPropertyf("an-24rv/lights/overhead_lamp_rad_rot_around"))

defineProperty("main_cabin_light", globalPropertyi("an-24rv/switch/main_cabin_light"))
defineProperty("main_cabin_light_modeL", globalPropertyi("an-24rv/switch/main_cabin_light_modeL"))
defineProperty("main_cabin_light_modeR", globalPropertyi("an-24rv/switch/main_cabin_light_modeR"))
defineProperty("main_cabin_light_mode", globalPropertyf("an-24rv/switch/main_cabin_light_mode"))
defineProperty("cockpit_panel_light_switch", globalPropertyf("an-24rv/misc/cockpit_panel"))
defineProperty("light1LFD", globalPropertyf("an-24rv/lights/LFDLAMP[0]"))
defineProperty("light2LFD", globalPropertyf("an-24rv/lights/LFDLAMP[1]"))
defineProperty("light3LFD", globalPropertyf("an-24rv/lights/LFDLAMP[2]"))
defineProperty("light4LFD", globalPropertyf("an-24rv/lights/LFDLAMP[3]"))
defineProperty("light5LFD", globalPropertyf("an-24rv/lights/LFDLAMP[4]"))
defineProperty("light6LFD", globalPropertyf("an-24rv/lights/LFDLAMP[5]"))
defineProperty("light7LFD", globalPropertyf("an-24rv/lights/LFDLAMP[6]"))
defineProperty("light8LFD", globalPropertyf("an-24rv/lights/LFDLAMP[7]"))
defineProperty("light9LFD", globalPropertyf("an-24rv/lights/LFDLAMP[8]"))
defineProperty("light1CFD", globalPropertyf("an-24rv/lights/CFDLAMP[0]"))
defineProperty("light2CFD", globalPropertyf("an-24rv/lights/CFDLAMP[1]"))
defineProperty("light3CFD", globalPropertyf("an-24rv/lights/CFDLAMP[2]"))
defineProperty("light4CFD", globalPropertyf("an-24rv/lights/CFDLAMP[3]"))
defineProperty("light5CFD", globalPropertyf("an-24rv/lights/CFDLAMP[4]"))
defineProperty("light6CFD", globalPropertyf("an-24rv/lights/CFDLAMP[5]"))
defineProperty("light7CFD", globalPropertyf("an-24rv/lights/CFDLAMP[6]"))
defineProperty("light8CFD", globalPropertyf("an-24rv/lights/CFDLAMP[7]"))
defineProperty("light9CFD", globalPropertyf("an-24rv/lights/CFDLAMP[8]"))
defineProperty("light1CCFD", globalPropertyf("an-24rv/lights/CCFDLAMP[0]"))
defineProperty("light2CCFD", globalPropertyf("an-24rv/lights/CCFDLAMP[1]"))
defineProperty("light3CCFD", globalPropertyf("an-24rv/lights/CCFDLAMP[2]"))
defineProperty("light4CCFD", globalPropertyf("an-24rv/lights/CCFDLAMP[3]"))
defineProperty("light5CCFD", globalPropertyf("an-24rv/lights/CCFDLAMP[4]"))
defineProperty("light6CCFD", globalPropertyf("an-24rv/lights/CCFDLAMP[5]"))
defineProperty("light7CCFD", globalPropertyf("an-24rv/lights/CCFDLAMP[6]"))
defineProperty("light8CCFD", globalPropertyf("an-24rv/lights/CCFDLAMP[7]"))
defineProperty("light9CCFD", globalPropertyf("an-24rv/lights/CCFDLAMP[8]"))
defineProperty("light1RFD", globalPropertyf("an-24rv/lights/RFDLAMP[0]"))
defineProperty("light2RFD", globalPropertyf("an-24rv/lights/RFDLAMP[1]"))
defineProperty("light3RFD", globalPropertyf("an-24rv/lights/RFDLAMP[2]"))
defineProperty("light4RFD", globalPropertyf("an-24rv/lights/RFDLAMP[3]"))
defineProperty("light5RFD", globalPropertyf("an-24rv/lights/RFDLAMP[4]"))
defineProperty("light6RFD", globalPropertyf("an-24rv/lights/RFDLAMP[5]"))
defineProperty("light7RFD", globalPropertyf("an-24rv/lights/RFDLAMP[6]"))
defineProperty("light8RFD", globalPropertyf("an-24rv/lights/RFDLAMP[7]"))
defineProperty("light9RFD", globalPropertyf("an-24rv/lights/RFDLAMP[8]"))
---------------------------------------------------------------------
defineProperty("light1LFDGaugesDownLeft", globalPropertyf("an-24rv/lights/LFDGaugesDownLeft[0]"))
defineProperty("light2LFDGaugesDownLeft", globalPropertyf("an-24rv/lights/LFDGaugesDownLeft[1]"))
defineProperty("light3LFDGaugesDownLeft", globalPropertyf("an-24rv/lights/LFDGaugesDownLeft[2]"))
defineProperty("light4LFDGaugesDownLeft", globalPropertyf("an-24rv/lights/LFDGaugesDownLeft[3]"))
defineProperty("light5LFDGaugesDownLeft", globalPropertyf("an-24rv/lights/LFDGaugesDownLeft[4]"))
defineProperty("light6LFDGaugesDownLeft", globalPropertyf("an-24rv/lights/LFDGaugesDownLeft[5]"))
defineProperty("light7LFDGaugesDownLeft", globalPropertyf("an-24rv/lights/LFDGaugesDownLeft[6]"))
defineProperty("light8LFDGaugesDownLeft", globalPropertyf("an-24rv/lights/LFDGaugesDownLeft[7]"))
defineProperty("light9LFDGaugesDownLeft", globalPropertyf("an-24rv/lights/LFDGaugesDownLeft[8]"))
defineProperty("light1LFDGaugesDownRight", globalPropertyf("an-24rv/lights/LFDGaugesDownRight[0]"))
defineProperty("light2LFDGaugesDownRight", globalPropertyf("an-24rv/lights/LFDGaugesDownRight[1]"))
defineProperty("light3LFDGaugesDownRight", globalPropertyf("an-24rv/lights/LFDGaugesDownRight[2]"))
defineProperty("light4LFDGaugesDownRight", globalPropertyf("an-24rv/lights/LFDGaugesDownRight[3]"))
defineProperty("light5LFDGaugesDownRight", globalPropertyf("an-24rv/lights/LFDGaugesDownRight[4]"))
defineProperty("light6LFDGaugesDownRight", globalPropertyf("an-24rv/lights/LFDGaugesDownRight[5]"))
defineProperty("light7LFDGaugesDownRight", globalPropertyf("an-24rv/lights/LFDGaugesDownRight[6]"))
defineProperty("light8LFDGaugesDownRight", globalPropertyf("an-24rv/lights/LFDGaugesDownRight[7]"))
defineProperty("light9LFDGaugesDownRight", globalPropertyf("an-24rv/lights/LFDGaugesDownRight[8]"))
defineProperty("light1LFDGaugesUpLeft", globalPropertyf("an-24rv/lights/LFDGaugesUpLeft[0]"))
defineProperty("light2LFDGaugesUpLeft", globalPropertyf("an-24rv/lights/LFDGaugesUpLeft[1]"))
defineProperty("light3LFDGaugesUpLeft", globalPropertyf("an-24rv/lights/LFDGaugesUpLeft[2]"))
defineProperty("light4LFDGaugesUpLeft", globalPropertyf("an-24rv/lights/LFDGaugesUpLeft[3]"))
defineProperty("light5LFDGaugesUpLeft", globalPropertyf("an-24rv/lights/LFDGaugesUpLeft[4]"))
defineProperty("light6LFDGaugesUpLeft", globalPropertyf("an-24rv/lights/LFDGaugesUpLeft[5]"))
defineProperty("light7LFDGaugesUpLeft", globalPropertyf("an-24rv/lights/LFDGaugesUpLeft[6]"))
defineProperty("light8LFDGaugesUpLeft", globalPropertyf("an-24rv/lights/LFDGaugesUpLeft[7]"))
defineProperty("light9LFDGaugesUpLeft", globalPropertyf("an-24rv/lights/LFDGaugesUpLeft[8]"))
defineProperty("light1LFDGaugesUpRight", globalPropertyf("an-24rv/lights/LFDGaugesUpRight[0]"))
defineProperty("light2LFDGaugesUpRight", globalPropertyf("an-24rv/lights/LFDGaugesUpRight[1]"))
defineProperty("light3LFDGaugesUpRight", globalPropertyf("an-24rv/lights/LFDGaugesUpRight[2]"))
defineProperty("light4LFDGaugesUpRight", globalPropertyf("an-24rv/lights/LFDGaugesUpRight[3]"))
defineProperty("light5LFDGaugesUpRight", globalPropertyf("an-24rv/lights/LFDGaugesUpRight[4]"))
defineProperty("light6LFDGaugesUpRight", globalPropertyf("an-24rv/lights/LFDGaugesUpRight[5]"))
defineProperty("light7LFDGaugesUpRight", globalPropertyf("an-24rv/lights/LFDGaugesUpRight[6]"))
defineProperty("light8LFDGaugesUpRight", globalPropertyf("an-24rv/lights/LFDGaugesUpRight[7]"))
defineProperty("light9LFDGaugesUpRight", globalPropertyf("an-24rv/lights/LFDGaugesUpRight[8]"))
---------------------------------------------------------------------
defineProperty("light1RFDGaugesDownLeft", globalPropertyf("an-24rv/lights/RFDGaugesDownLeft[0]"))
defineProperty("light2RFDGaugesDownLeft", globalPropertyf("an-24rv/lights/RFDGaugesDownLeft[1]"))
defineProperty("light3RFDGaugesDownLeft", globalPropertyf("an-24rv/lights/RFDGaugesDownLeft[2]"))
defineProperty("light4RFDGaugesDownLeft", globalPropertyf("an-24rv/lights/RFDGaugesDownLeft[3]"))
defineProperty("light5RFDGaugesDownLeft", globalPropertyf("an-24rv/lights/RFDGaugesDownLeft[4]"))
defineProperty("light6RFDGaugesDownLeft", globalPropertyf("an-24rv/lights/RFDGaugesDownLeft[5]"))
defineProperty("light7RFDGaugesDownLeft", globalPropertyf("an-24rv/lights/RFDGaugesDownLeft[6]"))
defineProperty("light8RFDGaugesDownLeft", globalPropertyf("an-24rv/lights/RFDGaugesDownLeft[7]"))
defineProperty("light9RFDGaugesDownLeft", globalPropertyf("an-24rv/lights/RFDGaugesDownLeft[8]"))
defineProperty("light1RFDGaugesDownRight", globalPropertyf("an-24rv/lights/RFDGaugesDownRight[0]"))
defineProperty("light2RFDGaugesDownRight", globalPropertyf("an-24rv/lights/RFDGaugesDownRight[1]"))
defineProperty("light3RFDGaugesDownRight", globalPropertyf("an-24rv/lights/RFDGaugesDownRight[2]"))
defineProperty("light4RFDGaugesDownRight", globalPropertyf("an-24rv/lights/RFDGaugesDownRight[3]"))
defineProperty("light5RFDGaugesDownRight", globalPropertyf("an-24rv/lights/RFDGaugesDownRight[4]"))
defineProperty("light6RFDGaugesDownRight", globalPropertyf("an-24rv/lights/RFDGaugesDownRight[5]"))
defineProperty("light7RFDGaugesDownRight", globalPropertyf("an-24rv/lights/RFDGaugesDownRight[6]"))
defineProperty("light8RFDGaugesDownRight", globalPropertyf("an-24rv/lights/RFDGaugesDownRight[7]"))
defineProperty("light9RFDGaugesDownRight", globalPropertyf("an-24rv/lights/RFDGaugesDownRight[8]"))
defineProperty("light1RFDGaugesUpLeft", globalPropertyf("an-24rv/lights/RFDGaugesUpLeft[0]"))
defineProperty("light2RFDGaugesUpLeft", globalPropertyf("an-24rv/lights/RFDGaugesUpLeft[1]"))
defineProperty("light3RFDGaugesUpLeft", globalPropertyf("an-24rv/lights/RFDGaugesUpLeft[2]"))
defineProperty("light4RFDGaugesUpLeft", globalPropertyf("an-24rv/lights/RFDGaugesUpLeft[3]"))
defineProperty("light5RFDGaugesUpLeft", globalPropertyf("an-24rv/lights/RFDGaugesUpLeft[4]"))
defineProperty("light6RFDGaugesUpLeft", globalPropertyf("an-24rv/lights/RFDGaugesUpLeft[5]"))
defineProperty("light7RFDGaugesUpLeft", globalPropertyf("an-24rv/lights/RFDGaugesUpLeft[6]"))
defineProperty("light8RFDGaugesUpLeft", globalPropertyf("an-24rv/lights/RFDGaugesUpLeft[7]"))
defineProperty("light9RFDGaugesUpLeft", globalPropertyf("an-24rv/lights/RFDGaugesUpLeft[8]"))
defineProperty("light1RFDGaugesUpRight", globalPropertyf("an-24rv/lights/RFDGaugesUpRight[0]"))
defineProperty("light2RFDGaugesUpRight", globalPropertyf("an-24rv/lights/RFDGaugesUpRight[1]"))
defineProperty("light3RFDGaugesUpRight", globalPropertyf("an-24rv/lights/RFDGaugesUpRight[2]"))
defineProperty("light4RFDGaugesUpRight", globalPropertyf("an-24rv/lights/RFDGaugesUpRight[3]"))
defineProperty("light5RFDGaugesUpRight", globalPropertyf("an-24rv/lights/RFDGaugesUpRight[4]"))
defineProperty("light6RFDGaugesUpRight", globalPropertyf("an-24rv/lights/RFDGaugesUpRight[5]"))
defineProperty("light7RFDGaugesUpRight", globalPropertyf("an-24rv/lights/RFDGaugesUpRight[6]"))
defineProperty("light8RFDGaugesUpRight", globalPropertyf("an-24rv/lights/RFDGaugesUpRight[7]"))
defineProperty("light9RFDGaugesUpRight", globalPropertyf("an-24rv/lights/RFDGaugesUpRight[8]"))
-----------------------------------------------------------------------
defineProperty("light1OHL", globalPropertyf("an-24rv/lights/overhead_lamp_left[0]"))
defineProperty("light2OHL", globalPropertyf("an-24rv/lights/overhead_lamp_left[1]"))
defineProperty("light3OHL", globalPropertyf("an-24rv/lights/overhead_lamp_left[2]"))
defineProperty("light4OHL", globalPropertyf("an-24rv/lights/overhead_lamp_left[3]"))
defineProperty("light5OHL", globalPropertyf("an-24rv/lights/overhead_lamp_left[4]"))
defineProperty("light6OHL", globalPropertyf("an-24rv/lights/overhead_lamp_left[5]"))
defineProperty("light7OHL", globalPropertyf("an-24rv/lights/overhead_lamp_left[6]"))
defineProperty("light8OHL", globalPropertyf("an-24rv/lights/overhead_lamp_left[7]"))
defineProperty("light9OHL", globalPropertyf("an-24rv/lights/overhead_lamp_left[8]"))
defineProperty("light1OHR", globalPropertyf("an-24rv/lights/overhead_lamp_right[0]"))
defineProperty("light2OHR", globalPropertyf("an-24rv/lights/overhead_lamp_right[1]"))
defineProperty("light3OHR", globalPropertyf("an-24rv/lights/overhead_lamp_right[2]"))
defineProperty("light4OHR", globalPropertyf("an-24rv/lights/overhead_lamp_right[3]"))
defineProperty("light5OHR", globalPropertyf("an-24rv/lights/overhead_lamp_right[4]"))
defineProperty("light6OHR", globalPropertyf("an-24rv/lights/overhead_lamp_right[5]"))
defineProperty("light7OHR", globalPropertyf("an-24rv/lights/overhead_lamp_right[6]"))
defineProperty("light8OHR", globalPropertyf("an-24rv/lights/overhead_lamp_right[7]"))
defineProperty("light9OHR", globalPropertyf("an-24rv/lights/overhead_lamp_right[8]"))
defineProperty("light1PiL", globalPropertyf("an-24rv/lights/overhead_lamp_pilotleft[0]"))
defineProperty("light2PiL", globalPropertyf("an-24rv/lights/overhead_lamp_pilotleft[1]"))
defineProperty("light3PiL", globalPropertyf("an-24rv/lights/overhead_lamp_pilotleft[2]"))
defineProperty("light4PiL", globalPropertyf("an-24rv/lights/overhead_lamp_pilotleft[3]"))
defineProperty("light5PiL", globalPropertyf("an-24rv/lights/overhead_lamp_pilotleft[4]"))
defineProperty("light6PiL", globalPropertyf("an-24rv/lights/overhead_lamp_pilotleft[5]"))
defineProperty("light7PiL", globalPropertyf("an-24rv/lights/overhead_lamp_pilotleft[6]"))
defineProperty("light8PiL", globalPropertyf("an-24rv/lights/overhead_lamp_pilotleft[7]"))
defineProperty("light9PiL", globalPropertyf("an-24rv/lights/overhead_lamp_pilotleft[8]"))
defineProperty("light1FoR", globalPropertyf("an-24rv/lights/overhead_lamp_pilotright[0]"))
defineProperty("light2FoR", globalPropertyf("an-24rv/lights/overhead_lamp_pilotright[1]"))
defineProperty("light3FoR", globalPropertyf("an-24rv/lights/overhead_lamp_pilotright[2]"))
defineProperty("light4FoR", globalPropertyf("an-24rv/lights/overhead_lamp_pilotright[3]"))
defineProperty("light5FoR", globalPropertyf("an-24rv/lights/overhead_lamp_pilotright[4]"))
defineProperty("light6FoR", globalPropertyf("an-24rv/lights/overhead_lamp_pilotright[5]"))
defineProperty("light7FoR", globalPropertyf("an-24rv/lights/overhead_lamp_pilotright[6]"))
defineProperty("light8FoR", globalPropertyf("an-24rv/lights/overhead_lamp_pilotright[7]"))
defineProperty("light9FoR", globalPropertyf("an-24rv/lights/overhead_lamp_pilotright[8]"))
defineProperty("light1NL", globalPropertyf("an-24rv/lights/overhead_lamp_navleft[0]"))
defineProperty("light2NL", globalPropertyf("an-24rv/lights/overhead_lamp_navleft[1]"))
defineProperty("light3NL", globalPropertyf("an-24rv/lights/overhead_lamp_navleft[2]"))
defineProperty("light4NL", globalPropertyf("an-24rv/lights/overhead_lamp_navleft[3]"))
defineProperty("light5NL", globalPropertyf("an-24rv/lights/overhead_lamp_navleft[4]"))
defineProperty("light6NL", globalPropertyf("an-24rv/lights/overhead_lamp_navleft[5]"))
defineProperty("light7NL", globalPropertyf("an-24rv/lights/overhead_lamp_navleft[6]"))
defineProperty("light8NL", globalPropertyf("an-24rv/lights/overhead_lamp_navleft[7]"))
defineProperty("light9NL", globalPropertyf("an-24rv/lights/overhead_lamp_navleft[8]"))
defineProperty("light1NR", globalPropertyf("an-24rv/lights/overhead_lamp_navright[0]"))
defineProperty("light2NR", globalPropertyf("an-24rv/lights/overhead_lamp_navright[1]"))
defineProperty("light3NR", globalPropertyf("an-24rv/lights/overhead_lamp_navright[2]"))
defineProperty("light4NR", globalPropertyf("an-24rv/lights/overhead_lamp_navright[3]"))
defineProperty("light5NR", globalPropertyf("an-24rv/lights/overhead_lamp_navright[4]"))
defineProperty("light6NR", globalPropertyf("an-24rv/lights/overhead_lamp_navright[5]"))
defineProperty("light7NR", globalPropertyf("an-24rv/lights/overhead_lamp_navright[6]"))
defineProperty("light8NR", globalPropertyf("an-24rv/lights/overhead_lamp_navright[7]"))
defineProperty("light9NR", globalPropertyf("an-24rv/lights/overhead_lamp_navright[8]"))
defineProperty("light1RAD", globalPropertyf("an-24rv/lights/overhead_lamp_rad[0]"))
defineProperty("light2RAD", globalPropertyf("an-24rv/lights/overhead_lamp_rad[1]"))
defineProperty("light3RAD", globalPropertyf("an-24rv/lights/overhead_lamp_rad[2]"))
defineProperty("light4RAD", globalPropertyf("an-24rv/lights/overhead_lamp_rad[3]"))
defineProperty("light5RAD", globalPropertyf("an-24rv/lights/overhead_lamp_rad[4]"))
defineProperty("light6RAD", globalPropertyf("an-24rv/lights/overhead_lamp_rad[5]"))
defineProperty("light7RAD", globalPropertyf("an-24rv/lights/overhead_lamp_rad[6]"))
defineProperty("light8RAD", globalPropertyf("an-24rv/lights/overhead_lamp_rad[7]"))
defineProperty("light9RAD", globalPropertyf("an-24rv/lights/overhead_lamp_rad[8]"))

local switch_sound = loadSample('sounds/custom/metal_switch.wav')

plusmainlight = createCommand("An-24RV/Lights/plusmainlight", "Increase Main Light")
function plusmainlight_cmd(phase)
  if 0 == phase then
    if get(main_cabin_light_mode)<2 then
      set(main_cabin_light_mode,get(main_cabin_light_mode)+1)
    end
    return 1
  end
end
registerCommandHandler(plusmainlight, 0, plusmainlight_cmd);

minusmainlight = createCommand("An-24RV/Lights/minusmainlight", "Decrease Main Light")
function minusmainlight_cmd(phase)
  if 0 == phase then
    if get(main_cabin_light_mode)>0 then
      set(main_cabin_light_mode,get(main_cabin_light_mode)-1)
    end
    return 1
  end
end
registerCommandHandler(minusmainlight, 0, minusmainlight_cmd);

set(light1LFD,1)
set(light2LFD,0)
set(light3LFD,0)
set(light4LFD,0)
set(light5LFD,0.035)
set(light6LFD,0.0001)
set(light7LFD,0)
set(light8LFD,-0.5)
set(light9LFD,-0.7171)
set(light1CFD,1)
set(light2CFD,0)
set(light3CFD,0)
set(light4CFD,0)
set(light5CFD,0.035)
set(light6CFD,0.0001)
set(light7CFD,0)
set(light8CFD,0)
set(light9CFD,-1)
set(light1CCFD,1)
set(light2CCFD,0)
set(light3CCFD,0)
set(light4CCFD,0)
set(light5CCFD,0.035)
set(light6CCFD,0.0001)
set(light7CCFD,0)
set(light8CCFD,-0.5)
set(light9CCFD,-0.7171)
set(light1RFD,1)
set(light2RFD,0)
set(light3RFD,0)
set(light4RFD,0)
set(light5RFD,0.035)
set(light6RFD,0.0001)
set(light7RFD,0)
set(light8RFD,-0.5)
set(light9RFD,-0.7171)

set(light1OHL,1)
set(light2OHL,0)
set(light3OHL,0)
set(light4OHL,0)
set(light5OHL,0.03)
set(light6OHL,0.65)
set(light7OHL,0)
set(light8OHL,0.7)
set(light9OHL,1)
set(light1OHR,1)
set(light2OHR,0)
set(light3OHR,0)
set(light4OHR,0)
set(light5OHR,0.03)
set(light6OHR,0.65)
set(light7OHR,0)
set(light8OHR,0.7)
set(light9OHR,1)
set(light1FoR,1)
set(light2FoR,0)
set(light3FoR,0)
set(light4FoR,0)
set(light5FoR,0.03)
set(light6FoR,0.65)
set(light7FoR,0)
set(light8FoR,1)
set(light9FoR,0)
set(light1PiL,1)
set(light2PiL,0)
set(light3PiL,0)
set(light4PiL,0)
set(light5PiL,0.03)
set(light6PiL,0.65)
set(light7PiL,0)
set(light8PiL,1)
set(light9PiL,0)
set(light1NL,1)
set(light2NL,0)
set(light3NL,0)
set(light4NL,0)
set(light5NL,0.03)
set(light6NL,0.65)
set(light7NL,0)
set(light8NL,1)
set(light9NL,0)
set(light1NR,1)
set(light2NR,0)
set(light3NR,0)
set(light4NR,0)
set(light5NR,0.03)
set(light6NR,0.65)
set(light7NR,0)
set(light8NR,1)
set(light9NR,0)
set(light1RAD,1)
set(light2RAD,0)
set(light3RAD,0)
set(light4RAD,0)
set(light5RAD,0.03)
set(light6RAD,0.65)
set(light7RAD,0)
set(light8RAD,1)
set(light9RAD,0)
---
set(light1LFDGaugesDownLeft,1)
set(light2LFDGaugesDownLeft,0.66)
set(light3LFDGaugesDownLeft,0.18)
set(light5LFDGaugesDownLeft,0.1)
set(light6LFDGaugesDownLeft,0.35)
set(light7LFDGaugesDownLeft,-0.4)
set(light8LFDGaugesDownLeft,-1)
set(light9LFDGaugesDownLeft,-0.2)
set(light1LFDGaugesDownRight,1)
set(light2LFDGaugesDownRight,0.66)
set(light3LFDGaugesDownRight,0.18)
set(light5LFDGaugesDownRight,0.1)
set(light6LFDGaugesDownRight,0.35)
set(light7LFDGaugesDownRight,0.4)
set(light8LFDGaugesDownRight,-1)
set(light9LFDGaugesDownRight,-0.2)
set(light1LFDGaugesUpLeft,1)
set(light2LFDGaugesUpLeft,0.66)
set(light3LFDGaugesUpLeft,0.18)
set(light5LFDGaugesUpLeft,0.1)
set(light6LFDGaugesUpLeft,0.35)
set(light7LFDGaugesUpLeft,-0.4)
set(light8LFDGaugesUpLeft,-0.2)
set(light9LFDGaugesUpLeft,-0.2)
set(light1LFDGaugesUpRight,1)
set(light2LFDGaugesUpRight,0.66)
set(light3LFDGaugesUpRight,0.18)
set(light5LFDGaugesUpRight,0.1)
set(light6LFDGaugesUpRight,0.35)
set(light7LFDGaugesUpRight,0.4)
set(light8LFDGaugesUpRight,0.2)
set(light9LFDGaugesUpRight,-0.2)
----
set(light1RFDGaugesDownLeft,1)
set(light2RFDGaugesDownLeft,0.66)
set(light3RFDGaugesDownLeft,0.18)
set(light5RFDGaugesDownLeft,0.1)
set(light6RFDGaugesDownLeft,0.35)
set(light7RFDGaugesDownLeft,-0.4)
set(light8RFDGaugesDownLeft,-1)
set(light9RFDGaugesDownLeft,-0.2)
set(light1RFDGaugesDownRight,1)
set(light2RFDGaugesDownRight,0.66)
set(light3RFDGaugesDownRight,0.18)
set(light5RFDGaugesDownRight,0.1)
set(light6RFDGaugesDownRight,0.35)
set(light7RFDGaugesDownRight,0.4)
set(light8RFDGaugesDownRight,-1)
set(light9RFDGaugesDownRight,-0.2)
set(light1RFDGaugesUpLeft,1)
set(light2RFDGaugesUpLeft,0.66)
set(light3RFDGaugesUpLeft,0.18)
set(light5RFDGaugesUpLeft,0.1)
set(light6RFDGaugesUpLeft,0.35)
set(light7RFDGaugesUpLeft,-0.4)
set(light8RFDGaugesUpLeft,-0.2)
set(light9RFDGaugesUpLeft,-0.2)
set(light1RFDGaugesUpRight,1)
set(light2RFDGaugesUpRight,0.66)
set(light3RFDGaugesUpRight,0.18)
set(light5RFDGaugesUpRight,0.1)
set(light6RFDGaugesUpRight,0.35)
set(light7RFDGaugesUpRight,0.4)
set(light8RFDGaugesUpRight,0.2)
set(light9RFDGaugesUpRight,-0.2)
-- commands
autopilot_off_on = findCommand("sim/autopilot/fdir_servos_down_one")
local autopilot_off_onn_Sound = loadSample('sounds/alert/autopilot_disco.wav')
set(luk,0)
local time_isalert = 0
local last_lamp_change = get(flight_time)
--local isalerton =0
--playSample(switch_sound, 0)
lightsprefs_sett = {}
local line
local notLoaded = true
function prefslight_read()
	local filename
	filename = panelDir .. "/an-24rv_lamps.ini"
	local file = io.open(filename, "r")
	if file then
		for i=1,14,1 do
			line=file:read()
			if line == nil then
				break
			end
			lightsprefs_sett[i] = line
			lightsprefs_sett[i+14] = line
		end
		file:close()
		set(overhead_lamp_left_rot_updown,lightsprefs_sett[1])
		set(overhead_lamp_left_rot_around,lightsprefs_sett[2])
		set(overhead_lamp_right_rot_updown,lightsprefs_sett[3])
		set(overhead_lamp_right_rot_around,lightsprefs_sett[4])
		set(overhead_lamp_pilot_right_rot_updown,lightsprefs_sett[5])
		set(overhead_lamp_pilot_right_rot_around,lightsprefs_sett[6])
		set(overhead_lamp_pilot_left_rot_updown,lightsprefs_sett[7])
		set(overhead_lamp_pilot_left_rot_around,lightsprefs_sett[8])
		set(overhead_lamp_nav_left_rot_updown,lightsprefs_sett[9])
		set(overhead_lamp_nav_left_rot_around,lightsprefs_sett[10])
		set(overhead_lamp_nav_right_rot_updown,lightsprefs_sett[11])
		set(overhead_lamp_nav_right_rot_around,lightsprefs_sett[12])
		set(overhead_lamp_rad_rot_updown,lightsprefs_sett[13])
		set(overhead_lamp_rad_rot_around,lightsprefs_sett[14])
	else
		print ("No .ini file for lights preferenses. Using default values.")
	end
	return true
end
function savestatelamp()
	lightsprefs_sett[1]=get(overhead_lamp_left_rot_updown)
	lightsprefs_sett[2]=get(overhead_lamp_left_rot_around)
	lightsprefs_sett[3]=get(overhead_lamp_right_rot_updown)
	lightsprefs_sett[4]=get(overhead_lamp_right_rot_around)
	lightsprefs_sett[5]=get(overhead_lamp_pilot_right_rot_updown)
	lightsprefs_sett[6]=get(overhead_lamp_pilot_right_rot_around)
	lightsprefs_sett[7]=get(overhead_lamp_pilot_left_rot_updown)
	lightsprefs_sett[8]=get(overhead_lamp_pilot_left_rot_around)
	lightsprefs_sett[9]=get(overhead_lamp_nav_left_rot_updown)
	lightsprefs_sett[10]=get(overhead_lamp_nav_left_rot_around)
	lightsprefs_sett[11]=get(overhead_lamp_nav_right_rot_updown)
	lightsprefs_sett[12]=get(overhead_lamp_nav_right_rot_around)
	lightsprefs_sett[13]=get(overhead_lamp_rad_rot_updown)
	lightsprefs_sett[14]=get(overhead_lamp_rad_rot_around)
	local filenew = io.open(panelDir .. "/an-24rv_lamps.ini", "w")
	for ind=1,14,1 do
		filenew:write(lightsprefs_sett[ind], "\n")
	end
	filenew:close()
end

function update()
	if notLoaded then 
		prefslight_read()
		notLoaded = false
	end
if get(overhead_lamp_left_rot_updown)~=lightsprefs_sett[1] then
	savestatelamp()
	lightsprefs_sett[1]=get(overhead_lamp_left_rot_updown)
elseif get(overhead_lamp_left_rot_around)~=lightsprefs_sett[2] then
	savestatelamp()
	lightsprefs_sett[2]=get(overhead_lamp_left_rot_around)
elseif get(overhead_lamp_right_rot_updown)~=lightsprefs_sett[3] then
	savestatelamp()
	lightsprefs_sett[3]=get(overhead_lamp_right_rot_updown)
elseif get(overhead_lamp_right_rot_around)~=lightsprefs_sett[4] then
	savestatelamp()
	lightsprefs_sett[4]=get(overhead_lamp_right_rot_around)
elseif get(overhead_lamp_pilot_right_rot_updown)~=lightsprefs_sett[5] then
	savestatelamp()
	lightsprefs_sett[5]=get(overhead_lamp_pilot_right_rot_updown)
elseif get(overhead_lamp_pilot_right_rot_around)~=lightsprefs_sett[6] then
	savestatelamp()
	lightsprefs_sett[6]=get(overhead_lamp_pilot_right_rot_around)
elseif get(overhead_lamp_pilot_left_rot_updown)~=lightsprefs_sett[7] then
	savestatelamp()
	lightsprefs_sett[7]=get(overhead_lamp_pilot_left_rot_updown)
elseif get(overhead_lamp_pilot_left_rot_around)~=lightsprefs_sett[8] then
	savestatelamp()
	lightsprefs_sett[8]=get(overhead_lamp_pilot_left_rot_around)
elseif get(overhead_lamp_nav_left_rot_updown)~=lightsprefs_sett[9] then
	savestatelamp()
	lightsprefs_sett[9]=get(overhead_lamp_nav_left_rot_updown)
elseif get(overhead_lamp_nav_left_rot_around)~=lightsprefs_sett[10] then
	savestatelamp()
	lightsprefs_sett[10]=get(overhead_lamp_nav_left_rot_around)
elseif get(overhead_lamp_nav_right_rot_updown)~=lightsprefs_sett[11] then
	savestatelamp()
	lightsprefs_sett[11]=get(overhead_lamp_nav_right_rot_updown)
elseif get(overhead_lamp_nav_right_rot_around)~=lightsprefs_sett[12] then
	savestatelamp()
	lightsprefs_sett[12]=get(overhead_lamp_nav_right_rot_around)
elseif get(overhead_lamp_rad_rot_updown)~=lightsprefs_sett[13] then
	savestatelamp()
	lightsprefs_sett[13]=get(overhead_lamp_rad_rot_updown)
elseif get(overhead_lamp_rad_rot_around)~=lightsprefs_sett[14] then
	savestatelamp()
	lightsprefs_sett[14]=get(overhead_lamp_rad_rot_around)
end

set(light4CCFD,get(light4CFD)*0.4)
set(light4LFDGaugesDownRight,get(light4LFDGaugesDownLeft))
set(light4LFDGaugesUpRight,get(light4LFDGaugesDownLeft))
set(light4LFDGaugesUpLeft,get(light4LFDGaugesDownLeft))
set(light4RFDGaugesDownRight,get(light4RFDGaugesDownLeft))
set(light4RFDGaugesUpRight,get(light4RFDGaugesDownLeft))
set(light4RFDGaugesUpLeft,get(light4RFDGaugesDownLeft))

if get(lukbesson_switch) ==1 then
	if get(luk)<1 then
		set(luk,get(luk)+0.1)
	elseif get(luk)>1 then
		set(luk,1)
	end
else
	if get(luk)> 0 then
		set(luk,get(luk)-0.1)
	elseif get(luk) < 0 then
		set(luk,0)
	end
end

local power27 = get(bus_DC_27_volt)

if get(test_lamp_pilot1_switch)==1 or get(test_lamp_pilot2_switch)==1 then
  if get(power27) > 21 then
    set(test_lamp_pilot,1)
  end
else
  set(test_lamp_pilot,0)
end
-- Overhead left lamp
if get(overhead_light_left_mode)==1 then
  if get(power27) > 21 then
    set(light2OHL,0)
    set(light3OHL,0)
    set(light4OHL,get(overhead_light_left_ownDR)*10)
    set(overhead_light_left_red,get(overhead_light_left_ownDR))
    set(overhead_light_left_white,0)
  else
    set(overhead_light_left_red,0)
    set(overhead_light_left_white,0)
    set(light4OHL,0)
  end
elseif get(overhead_light_left_mode)==2 then
  if get(power27) > 21 then
    set(light2OHL,1)
    set(light3OHL,1)
    set(light4OHL,get(overhead_light_left_ownDR)*10)
    set(overhead_light_left_red,0)
    set(overhead_light_left_white,get(overhead_light_left_ownDR))
  else
    set(overhead_light_left_red,0)
    set(overhead_light_left_white,0)
    set(light4OHL,0)
  end
else
  set(light4OHL,0)
  set(overhead_light_left_white,0)
  set(overhead_light_left_red,0)
end
---------overhead right lamps
if get(overhead_light_right_mode)==1 then
  if get(power27) > 21 then
    set(light2OHR,0)
    set(light3OHR,0)
    set(light4OHR,get(overhead_light_right_ownDR)*10)
    set(overhead_light_right_red,get(overhead_light_right_ownDR))
    set(overhead_light_right_white,0)
  else
    set(overhead_light_right_red,0)
    set(overhead_light_right_white,0)
    set(light4OHR,0)
  end
elseif get(overhead_light_right_mode)==2 then
  if get(power27) > 21 then
    set(light2OHR,1)
    set(light3OHR,1)
    set(light4OHR,get(overhead_light_right_ownDR)*10)
    set(overhead_light_right_red,0)
    set(overhead_light_right_white,get(overhead_light_right_ownDR))
  else
    set(overhead_light_right_red,0)
    set(overhead_light_right_white,0)
    set(light4OHR,0)
  end
else
  set(light4OHR,0)
  set(overhead_light_right_white,0)
  set(overhead_light_right_red,0)
end
-----------left pilot lamp
if get(overhead_light_pilot_left_mode)==1 then
  if get(power27) > 21 then
    set(light2PiL,0)
    set(light3PiL,0)
    set(light4PiL,get(overhead_light_pilot_left_ownDR)*10)
    set(overhead_light_pilot_left_red,get(overhead_light_pilot_left_ownDR))
    set(overhead_light_pilot_left_white,0)
  else
    set(overhead_light_pilot_left_red,0)
    set(overhead_light_pilot_left_white,0)
    set(light4PiL,0)
  end
elseif get(overhead_light_pilot_left_mode)==2 then
  if get(power27) > 21 then
    set(light2PiL,1)
    set(light3PiL,1)
    set(light4PiL,get(overhead_light_pilot_left_ownDR)*10)
    set(overhead_light_pilot_left_red,0)
    set(overhead_light_pilot_left_white,get(overhead_light_pilot_left_ownDR))
  else
    set(overhead_light_pilot_left_red,0)
    set(overhead_light_pilot_left_white,0)
  end
else
  set(light4PiL,0)
  set(overhead_light_pilot_left_white,0)
  set(overhead_light_pilot_left_red,0)
end
-----------second pilot lamp
if get(overhead_light_pilot_right_mode)==1 then
  if get(power27) > 21 then
    set(light2FoR,0)
    set(light3FoR,0)
    set(light4FoR,get(overhead_light_pilot_right_ownDR)*10)
    set(overhead_light_pilot_right_red,get(overhead_light_pilot_right_ownDR))
    set(overhead_light_pilot_right_white,0)
  else
    set(overhead_light_pilot_right_red,0)
    set(overhead_light_pilot_right_white,0)
    set(light4FoR,0)
  end
elseif get(overhead_light_pilot_right_mode)==2 then
  if get(power27) > 21 then
    set(light2FoR,1)
    set(light3FoR,1)
    set(light4FoR,get(overhead_light_pilot_right_ownDR)*10)
    set(overhead_light_pilot_right_red,0)
    set(overhead_light_pilot_right_white,get(overhead_light_pilot_right_ownDR))
  else
    set(overhead_light_pilot_right_red,0)
    set(overhead_light_pilot_right_white,0)
    set(light4FoR,0)
  end
else
  set(light4FoR,0)
  set(overhead_light_pilot_right_white,0)
  set(overhead_light_pilot_right_red,0)
end
-----------left nav lamp
if get(overhead_light_nav_left_mode)==1 then
  if get(power27) > 21 then
    set(light2NL,0)
    set(light3NL,0)
    set(light4NL,get(overhead_light_nav_left_ownDR)*10)
    set(overhead_light_nav_left_red,get(overhead_light_nav_left_ownDR))
    set(overhead_light_nav_left_white,0)
  else
    set(overhead_light_nav_left_red,0)
    set(overhead_light_nav_left_white,0)
    set(light4NL,0)
  end
elseif get(overhead_light_nav_left_mode)==2 then
  if get(power27) > 21 then
    set(light2NL,1)
    set(light3NL,1)
    set(light4NL,get(overhead_light_nav_left_ownDR)*10)
    set(overhead_light_nav_left_red,0)
    set(overhead_light_nav_left_white,get(overhead_light_nav_left_ownDR))
  else
    set(overhead_light_nav_left_red,0)
    set(overhead_light_nav_left_white,0)
  end
else
  set(light4NL,0)
  set(overhead_light_nav_left_white,0)
  set(overhead_light_nav_left_red,0)
end
-----------right nav lamp
if get(overhead_light_nav_right_mode)==1 then
  if get(power27) > 21 then
    set(light2NR,0)
    set(light3NR,0)
    set(light4NR,get(overhead_light_nav_right_ownDR)*10)
    set(overhead_light_nav_right_red,get(overhead_light_nav_right_ownDR))
    set(overhead_light_nav_right_white,0)
  else
    set(overhead_light_nav_right_red,0)
    set(overhead_light_nav_right_white,0)
    set(light4NR,0)
  end
elseif get(overhead_light_nav_right_mode)==2 then
  if get(power27) > 21 then
    set(light2NR,1)
    set(light3NR,1)
    set(light4NR,get(overhead_light_nav_right_ownDR)*10)
    set(overhead_light_nav_right_red,0)
    set(overhead_light_nav_right_white,get(overhead_light_nav_right_ownDR))
  else
    set(overhead_light_nav_right_red,0)
    set(overhead_light_nav_right_white,0)
  end
else
  set(light4NR,0)
  set(overhead_light_nav_right_white,0)
  set(overhead_light_nav_right_red,0)
end
-----------radio lamp
if get(overhead_light_rad_mode)==1 then
  if get(power27) > 21 then
    set(light2RAD,0)
    set(light3RAD,0)
    set(light4RAD,get(overhead_light_rad_ownDR)*10)
    set(overhead_light_rad_red,get(overhead_light_rad_ownDR))
    set(overhead_light_rad_white,0)
  else
    set(overhead_light_rad_red,0)
    set(overhead_light_rad_white,0)
    set(light4RAD,0)
  end
elseif get(overhead_light_rad_mode)==2 then
  if get(power27) > 21 then
    set(light2RAD,1)
    set(light3RAD,1)
    set(light4RAD,get(overhead_light_rad_ownDR)*10)
    set(overhead_light_rad_red,0)
    set(overhead_light_rad_white,get(overhead_light_rad_ownDR))
  else
    set(overhead_light_rad_red,0)
    set(overhead_light_rad_white,0)
  end
else
  set(light4RAD,0)
  set(overhead_light_rad_white,0)
  set(overhead_light_rad_red,0)
end

------------------------
---основное освещение в кабине

---все, что касается питания на борту
if get(power27) > 21 then
	
	if get(main_cabin_light)==1 then
		if get(main_cabin_light_mode)==2 then
			set(main_light_white,1)
		else
			set(main_light_white,0)
		end
		if get(main_cabin_light_mode)==0 then
			set(main_light_red,1)
		else
			set(main_light_red,0)
		end
	else
		set(main_light_white,0)
		set(main_light_red,0)
	end
	if get(nosmokingswitchonoff)==1 then
	set(nosmokingswitch,1)
	else
	set(nosmokingswitch,0)
	end
	if get(cockpit_panel_light_switch)==1 then
	set(light1LFD,1)
	set(light1CFD,1)
	set(light1CCFD,1)
	set(light1RFD,1)
	set(light5LFDGaugesDownLeft,0.1)
	set(light5LFDGaugesDownRight,0.1)
	set(light5LFDGaugesUpLeft,0.1)
	set(light5LFDGaugesUpRight,0.1)
	set(light5RFDGaugesDownLeft,0.1)
	set(light5RFDGaugesDownRight,0.1)
	set(light5RFDGaugesUpLeft,0.1)
	set(light5RFDGaugesUpRight,0.1)
	elseif get(cockpit_panel_light_switch)==(-1) then
	set(light1LFD,1)
	set(light1CFD,1)
	set(light1CCFD,1)
	set(light1RFD,0)
	set(light5LFDGaugesDownLeft,0.1)
	set(light5LFDGaugesDownRight,0.1)
	set(light5LFDGaugesUpLeft,0.1)
	set(light5LFDGaugesUpRight,0.1)
	set(light5RFDGaugesDownLeft,0)
	set(light5RFDGaugesDownRight,0)
	set(light5RFDGaugesUpLeft,0)
	set(light5RFDGaugesUpRight,0)
	else
	set(light1LFD,0)
	set(light1CFD,0)
	set(light1CCFD,0)
	set(light1RFD,0)
	set(light5LFDGaugesDownLeft,0)
	set(light5LFDGaugesDownRight,0)
	set(light5LFDGaugesUpLeft,0)
	set(light5LFDGaugesUpRight,0)
	set(light5RFDGaugesDownLeft,0)
	set(light5RFDGaugesDownRight,0)
	set(light5RFDGaugesUpLeft,0)
	set(light5RFDGaugesUpRight,0)
	end
else
	set(main_light_white,0)
	set(main_light_red,0)
	set(light1LFD,0)
	set(light1CFD,0)
	set(light1CCFD,0)
	set(light1RFD,0)
	set(light5LFDGaugesDownLeft,0)
	set(light5LFDGaugesDownRight,0)
	set(light5LFDGaugesUpLeft,0)
	set(light5LFDGaugesUpRight,0)
	set(light5RFDGaugesDownLeft,0)
	set(light5RFDGaugesDownRight,0)
	set(light5RFDGaugesUpLeft,0)
	set(light5RFDGaugesUpRight,0)
end
	if get(flightdeckdoor_toggle)==1 then
		if get(flightdeckdoor_state)<1 then
			if get(flightdeckdoor)<1  then
				set(flightdeckdoor,get(flightdeckdoor)+0.04)
				set(flightdeckdoor_state,get(flightdeckdoor_state)+0.04)
			end

		end
	end
	if get(flightdeckdoor_toggle)==0 then
		if get(flightdeckdoor_state)>0 then
			if get(flightdeckdoor)>0 then
				set(flightdeckdoor,get(flightdeckdoor)-0.04)
				set(flightdeckdoor_state,get(flightdeckdoor_state)-0.04)
			end

		end
	end
	if get(flightdeckdoor)<0 then
	set(flightdeckdoor,0)
	end
	if get(flightdeckdoor_state)<0 then
	set(flightdeckdoor_state,0)
	end




	----logic PF button anim
	if get(autopilot_state_PF) > 1 then
	 set(autopilot_state_PF,1)
	end
	if get(autopilot_state_FO) > 1 then
	 set(autopilot_state_FO,1)
	end
	if get(PF_ApbuttonState) < 1 then
			set(autopilot_state_PF,get(autopilot_state_PF)+0.1)
			set(PF_ApbuttonState,get(PF_ApbuttonState)+0.1)
	end
	if get(PF_ApbuttonState) == 1 then
			set(autopilot_state_PF,get(autopilot_state_PF)+0.1)
			set(PF_ApbuttonState,get(PF_ApbuttonState)+0.1)
	end
	if get(PF_ApbuttonState)<2 then
		if get(PF_ApbuttonState)>1 then
			set(autopilot_state_PF,get(autopilot_state_PF)-0.1)
			set(PF_ApbuttonState,get(PF_ApbuttonState)+0.1)
		end
	end
	if get(PF_ApbuttonState)==2 or (get(PF_ApbuttonState)>2 and get(PF_ApbuttonState)<3)then
				set(autopilot_state_PF_button,0)
				set(autopilot_state_PF,0)
				set(PF_ApbuttonState,3)
				--set(isalerton,0)
	end
	---logic FO button anim
	if get(FO_ApbuttonState) < 1 then
			set(autopilot_state_FO,get(autopilot_state_FO)+0.1)
			set(FO_ApbuttonState,get(FO_ApbuttonState)+0.1)
	end
	if get(FO_ApbuttonState) == 1 then
			set(autopilot_state_FO,get(autopilot_state_FO)+0.1)
			set(FO_ApbuttonState,get(FO_ApbuttonState)+0.1)
	end
	if get(FO_ApbuttonState)<2 then
		if get(FO_ApbuttonState)>1 then
			set(autopilot_state_FO,get(autopilot_state_FO)-0.1)
			set(FO_ApbuttonState,get(FO_ApbuttonState)+0.1)
		end
	end

	if get(FO_ApbuttonState)==2 or (get(FO_ApbuttonState)>2 and get(FO_ApbuttonState)<3)then
				set(autopilot_state_FO_button,0)
				set(autopilot_state_FO,0)
				set(FO_ApbuttonState,3)
				--set(isalerton,0)
	end
	if get(isalerton)==1 then
	set(isalerton,2)
	time_isalert=get(flight_time)
	end
	if get(isalerton)==2 then
	if (get(flight_time)-time_isalert)<3 then
	else
	set(isalerton,0)
	end
	end

	if get(autopilot_state_PF_button)==1 then
		set(PF_ApbuttonState,0)
		if get(ap_on_lit)==1 then
			playSample(autopilot_off_onn_Sound, 0)
			set(isalerton,1)
			commandOnce(autopilot_off_on)
		else
			set(autopilot_state_PF_button,0)
		end
	end
	if get(autopilot_state_FO_button)==1 then
		set(FO_ApbuttonState,0)
		if get(ap_on_lit)==1 then
			playSample(autopilot_off_onn_Sound, 0)
			set(isalerton,1)
			commandOnce(autopilot_off_on)
		else
			set(autopilot_state_FO_button,0)
		end
	end
--local power27 = get(bus_DC_27_volt)
if get(power27) > 21 then
if get(testmsrp)==1 then
if get(msrp_switch)==1 then
	if get(flight_time) - last_lamp_change > math.random(0.28,0.46) then
				set(msrplight,1)
				last_lamp_change = get(flight_time)
				else
				set(msrplight,0)
			end
end
end
end

if get(testmsrp_cap)==0 then
if get(testmsrp)==1 then
set(testmsrp,0)
end
end

if get(msrp_switch_cap)==0 then
if get(msrp_switch)==1 then
set(msrp_switch,0)
end

end
--------



end



components = {

textureLit {
		position = {1284, 517, 50, 30},
		image = get(elev_fail_led),
		visible = function()
			return get(test_lamp_pilot) == 1
		end
	},
textureLit {
		position = {1340, 517, 50, 30},
		image = get(ail_fail_led),
		visible = function()
			return get(test_lamp_pilot) == 1
		end
	},
textureLit {
		position = {1116, 450, 50, 30},
		image = get(elev_fail_led),
		visible = function()
			return get(test_lamp_pilot) == 1
		end
	},
textureLit {
		position = {1061, 450, 50, 30},
		image = get(ail_fail_led),
		visible = function()
			return get(test_lamp_pilot) == 1
		end
	},
textureLit {
		position = {1229, 517, 50, 30},
		image = get(elev_force_led),
		visible = function()
			return get(test_lamp_pilot) == 1
		end
	},
textureLit {
		position = {1172, 450, 50, 30},
		image = get(elev_force_led),
		visible = function()
			return get(test_lamp_pilot) == 1
		end
	},
textureLit {
		position = {1398, 518, 45, 27},
		image = get(left_ahz_fail_txt),
		visible = function()
			return get(test_lamp_pilot) == 1
		end
	},
textureLit {
		position = {1455, 518, 43, 27},
		image = get(third_ahz_fail_txt),
		visible = function()
			return get(test_lamp_pilot) == 1
		end
	},
textureLit {
		position = {1007, 484, 45, 27},
		image = get(right_ahz_fail_txt),
		visible = function()
			return get(test_lamp_pilot) == 1
		end,
	},


	-- left roll indicator
	textureLit {
		position = {1062, 484, 45, 27},
		image = get(roll_left_txt),
		visible = function()
			return get(test_lamp_pilot) == 1
		end,
	},
	-- right roll indicator
	textureLit {
		position = {1119, 484, 43, 27},
		image = get(roll_right_txt),
		visible = function()
			return get(test_lamp_pilot) == 1
		end,
	},

	-- check ahz
	textureLit {
		position = {1174, 484, 43, 27},
		image = get(check_ahz_txt),
		visible = function()
			return get(test_lamp_pilot) == 1
		end,
	},

textureLit {
		position = {740, 309, 20, 20},
		image = get(green_led),
		visible = function()
			return get(msrplight) == 1
		end
	},

textureLit {
		image = get(elev_fail_led),
		position = {1284, 517, 50, 30},
		visible = function()
			return get(isalerton)==2--(get(autopilot_state_PF) > 0 or get(autopilot_state_FO) > 0) and get(isalerton)==2

		end,
	},
	textureLit {
		image = get(elev_fail_led),
		position = {1116, 450, 50, 30},
		visible = function()
			return get(isalerton)==2--(get(autopilot_state_PF) > 0 or get(autopilot_state_FO) > 0) and get(isalerton)==2
		end,
	},
	textureLit {
		image = get(ail_fail_led),
		position = {1340, 517, 50, 30},
		visible = function()
			return get(isalerton)==2--(get(autopilot_state_PF) >0 or get(autopilot_state_FO) > 0) and get(isalerton)==2
		end,
	},
	textureLit {
		image = get(ail_fail_led),
		position = {1061, 450, 50, 30},
		visible = function()
			return get(isalerton)==2--(get(autopilot_state_PF) >0 or get(autopilot_state_FO) > 0) and get(isalerton)==2
		end,
	},


}